<div class="ui container">
	<div class="sb-pageSection mt-24 pb-48">
		<div class="sb-pageSection-header">
			<h4 class="sb-pageSection-title">Create a Program</h4>
		</div>

		<div class="pb-8">
			<div class="ui ordered steps">
				<div class="completed step">
				<div class="content">
					<div class="title">Step 1</div>
					<div class="description">Fill the Details</div>
				</div>
				</div>
				<div class="completed step">
				<div class="content">
					<div class="title">Step 2</div>
					<div class="description">Select Text Books</div>
				</div>
				</div>
			</div>
			<sui-tabset>
				<div class="ui top attached tabular menu">
					<a class="item" suiTabHeader="1" [ngClass]="{'active' : !showTextBookSelector}">Details</a>
					<a class="item" suiTabHeader="2" [ngClass]="{'active' : showTextBookSelector}" [isDisabled]="!showTextBookSelector">Select Textbooks</a>
				</div>
				<div class="ui bottom attached segment" suiTabContent="1" [ngClass]="{'active' : !showTextBookSelector}">
					<form class="ui form" [formGroup]="createProgramForm" (submit)="saveProgram()">
						<div class="ui grid">
							<div class="twelve wide column">
								<div class="required field ">
									<label>Name</label>
									<div class="sb-field">
										<input autofocus="" formControlName="name"  class="sb-form-control ng-pristine ng-valid ng-touched" type="text" placeholder="Name">
										<div class="ui pointing red basic label below " *ngIf="createProgramForm.controls['name'].errors && createProgramForm.controls['name'].errors.required && (!createProgramForm.controls['name'].pristine || formIsInvalid)">
										   This field is required
										</div>
										<div class="ui pointing red basic label below" *ngIf="createProgramForm.controls['name'].errors && createProgramForm.controls['name'].errors.maxlength && (!createProgramForm.controls['name'].pristine || formIsInvalid)">
										  Character length can not be greater than 100
										</div>	
										<div *ngIf="createProgramForm.value.name.length" class="pull-right fsmall">{{createProgramForm.value.name.length}} / 100</div>
									</div>
								</div>
							</div>
							<div class="twelve wide column">
								<div class="required field ">
									<label>Description</label>
									<div class="sb-field relative">
										<textarea formControlName="description" type="text" class="wmd-input width-100 sb-form-control" placeholder="Add description" name="" required></textarea>
										<div class="ui pointing red basic label below " *ngIf="createProgramForm.controls['description'].errors && createProgramForm.controls['description'].errors.required && (!createProgramForm.controls['description'].pristine || formIsInvalid)">
										  This field is required
										</div>
										<div class="ui pointing red basic label below" *ngIf="createProgramForm.controls['description'].errors && createProgramForm.controls['description'].errors.maxlength && (!createProgramForm.controls['description'].pristine || formIsInvalid)">
											Character length can not be greater than 1000
										</div>
										<div *ngIf="createProgramForm.value.description.length" class="pull-right fsmall">{{createProgramForm.value.description.length}} / 1000</div>
									</div>
								</div>
							</div>

							<div class="twelve wide tablet three wide computer column">
								<div class="required field">
									<label>Nomination End Date</label>
									<div class="ui read-only calendar mb-10 sb-field">
										<div class="ui input right icon">
											<i class="calendar icon date-calendar"></i>
											<input [pickerMinDate]='pickerMinDate' formControlName="nomination_enddate"  suiDatepicker [pickerMode]="'date'">
										</div>
										<div class="ui pointing red basic label below " *ngIf="createProgramForm.controls['nomination_enddate'].errors && createProgramForm.controls['nomination_enddate'].errors.required && (!createProgramForm.controls['nomination_enddate'].pristine || formIsInvalid)">
											This field is required
										</div>
									</div>
								</div>
							</div>
							<div class="twelve wide tablet three wide computer column">
								<div class="field">
									<label>Nomination Shortlisting Date</label>
									<div class="ui read-only calendar mb-10">
										<div class="ui input right icon">
											<i class="calendar icon date-calendar"></i>
											<input [pickerMinDate]='pickerMinDate' formControlName="shortlisting_enddate" suiDatepicker [pickerMode]="'date'">
										</div>
										
									</div>
								</div>
							</div>

							<div class="twelve wide tablet three wide computer column">
								<div class="required field">
									<label>Contribution End Date</label>
									<div class="ui read-only calendar mb-10">
										<div class="ui input right icon">
											<i class="calendar icon date-calendar"></i>
											<input [pickerMinDate]='pickerMinDate' formControlName="content_submission_enddate" suiDatepicker [pickerMode]="'date'">
										</div>
										<div class="ui pointing red basic label below " *ngIf="createProgramForm.controls['content_submission_enddate'].errors && createProgramForm.controls['content_submission_enddate'].errors.required && (!createProgramForm.controls['content_submission_enddate'].pristine || formIsInvalid)">
											This field is required
										</div>
									</div>
								</div>
							</div>
							
							<div class="twelve wide tablet three wide computer column">
								<div class="required field">
									<label>Program End Date</label>
									<div class="ui read-only calendasr mb-10">
										<div class="ui input right icon">
											<i class="calendar icon date-calendar"></i>
											<input [pickerMinDate]='pickerMinDate' formControlName="program_end_date"  suiDatepicker [pickerMode]="'date'">
										</div>
										<div class="ui pointing red basic label below " *ngIf="createProgramForm.controls['program_end_date'].errors && createProgramForm.controls['program_end_date'].errors.required && (!createProgramForm.controls['program_end_date'].pristine || formIsInvalid)">
											This field is required
										</div>
									</div>
								</div>
							</div>
							<div class="twelve wide column py-0 form-section-separator">
								<h4>Program Scope</h4>
							</div>
							
							<div class="twelve wide tablet four wide computer column">
								<div class="required field">
									<label>Select Medium</label>
									<sui-multi-select formControlName="medium" class="selection"
									labelField="name"
									[hasLabels]="true"
									[options]="options"
									valueField="name"
									#multiSelect>
									<sui-select-option *ngFor="let option of programScope.medium"
									[value]="option" >
									</sui-select-option>
									</sui-multi-select>
									<div class="ui pointing red basic label below " *ngIf="createProgramForm.controls['medium'].errors && createProgramForm.controls['medium'].errors.required && (!createProgramForm.controls['medium'].pristine || formIsInvalid)">
										This field is required
									</div>
								</div>
							</div>
							<div class="twelve wide tablet four wide computer column">
								<div class="required field">
									<label> Grade / Class </label>
									<sui-multi-select formControlName="gradeLevel" class="selection"
									labelField="name"
									[hasLabels]="true"
									[options]="programScope.gradeLevel"
									valueField="name"
									#multiSelect>
									<sui-select-option *ngFor="let option of programScope.gradeLevel"
									[value]="option" >
									</sui-select-option>
									</sui-multi-select>
									<div class="ui pointing red basic label below " *ngIf="createProgramForm.controls['gradeLevel'].errors && createProgramForm.controls['gradeLevel'].errors.required && (!createProgramForm.controls['gradeLevel'].pristine || formIsInvalid)">
										This field is required
									</div>
								</div>
							</div>
							<div class="twelve wide tablet four wide computer column">
								<div class="required field">
									<label> Subject</label>
									<sui-multi-select class="selection"
									formControlName="subject"
									labelField="name"
									[hasLabels]="true"
									[options]="programScope.subject"
									valueField="name"
									#multiSelect>
									<sui-select-option *ngFor="let option of programScope.subject"
									[value]="option" >
									</sui-select-option>
									</sui-multi-select>
									<div class="ui pointing red basic label below " *ngIf="createProgramForm.controls['subject'].errors && createProgramForm.controls['subject'].errors.required && (!createProgramForm.controls['subject'].pristine || formIsInvalid)">
										This field is required
									</div>
								</div>
							</div>
							<div class="twelve wide column">
								<div class="field">
									<label>Purpose</label>
									<sui-multi-select class="selection"
									labelField="name"
									[hasLabels]="true"
									formControlName="content_types"
									[options]="programScope.purpose"
									valueField="name"
									#multiSelect>
									<sui-select-option *ngFor="let option of programScope.purpose"
									[value]="option" >
									</sui-select-option>
									</sui-multi-select>
								</div>
							</div>
							<!--div class="twelve wide column">
								<div class="field">
									<label>Certificates to be awarded </label>
									<select class="ui fluid dropdown">
										<option value="">Select</option>
										<option value="dummy">Dummy</option>
									</select>
								</div>
							</div>
							<div class="twelve wide column">
								<div class="field">
									<label>Rewards Given</label>
									<div class="sb-field relative">
										<textarea  type="text" class="wmd-input width-100 sb-form-control" placeholder="Add description" name=""></textarea>
										<div class="ui pointing red basic label below " *ngIf="createProgramForm.controls['rewards'].errors && createProgramForm.controls['rewards'].errors.required && (!createProgramForm.controls['rewards'].pristine || formIsInvalid)">
										{{resource?.messages?.stmsg?.m0105}}
										</div>
										<div class="ui pointing red basic label below" *ngIf="createProgramForm.controls['rewards'].errors && createProgramForm.controls['rewards'].errors.maxlength && (!createProgramForm.controls['rewards'].pristine || formIsInvalid)">
										{{resource?.messages?.stmsg?.m0106}}
										</div>
										<div *ngIf="createProgramForm.value.rewards.length" class="pull-right fsmall">{{createProgramForm.value.rewards.length}} / 100</div>
									</div>
								</div>
							</div-->
						</div>
					</form>
				</div>
				<div class="ui bottom attached segment" suiTabContent="2" [ngClass]="{'active' : showTextBookSelector}">
					<div class="d-flex  flex-jc-space-between">
						<div class="flex-70 pr-10">
								<div class="sb-table-responsive">
								<table class="sb-table sb-table-striped sb-table-hover sb-table-sortable"  *ngIf="showTextBookSelector">
									<thead class="sb-table-header sb-table-thead-gray">
										<tr>
												<th class="sb-sort-icon">
													<div class="sb-checkbox sb-checkbox-primary">
														<input type="checkbox" id="check1" name="example">
														<label for="check1">57 Textbooks
															</label>
														</div>
													</th>
												<th class="sb-sort-icon">Medium</th>
												<th class="sb-sort-icon">Class</th>
												<th>No. of Chapters</th>
												<th class="text-right"><button type="button" class="sb-btn sb-btn-normal sb-btn-primary">Add Selected</button></th>
										</tr>
										</thead>
										<tbody>
											<tr>
												<td>
													<div class="sb-checkbox sb-checkbox-primary" onclick="getData()">
														<input type="checkbox" id="check1" name="example">
														<label for="check1">English</label>
														</div>
													</td>
												<td>English</td>
												<td>4</td>
												<td>4</td>
												<td class="text-right">-</td>
											</tr>
											<tr>
													<td>
															<div class="sb-checkbox sb-checkbox-primary">
																<input type="checkbox" id="check1" name="example">
																<label for="check1">English</label>
																</div>
															</td>
													<td>English</td>
													<td>4</td>
													<td>4</td>
													<td class="text-right">
															<button type="button" class="sb-btn sb-btn-error sb-btn-normal">Remove</button>
													</td>
												</tr>
												<tr>
														<td>
																<div class="sb-checkbox sb-checkbox-primary">
																	<input type="checkbox" id="check1" name="example">
																	<label for="check1">English</label>
																	</div>
																</td>
														<td>English</td>
														<td>4</td>
														<td>4</td>
														<td class="sb-color-gray-400 text-right">Added in another program</td>
													</tr>
										</tbody>
										</table>
								</div>
						</div>
						<div class="flex-30 bt-l bt-r">
								<div class="sb-bg-white b-1-100 br-4 o-y-auto fs-0-92">
											<h5 class="p-10">
												<span class="p-10 font-weight-bold">4 textbooks added</span>
												<hr>
											</h5>
											<div class="o-y-auto max-height">
												<span class="mx-20 sb-color-gray-400 font-weight-bold">Geography</span>
												<span class="mx-20">English</span>
												<span class="mx-20">6</span>
												<span class="mx-20 pull-right"><i class="close outline icon sb-color-red-100"></i></span>
												<hr>
												<span class="mx-20 sb-color-gray-400 font-weight-bold">Geography</span>
												<span class="mx-20">English</span>
												<span class="mx-20">6</span>
												<span class="mx-20 pull-right"><i class="close icon sb-color-red-100"></i></span>
												<hr>
												<span class="mx-20 sb-color-gray-400 font-weight-bold">Geography</span>
												<span class="mx-20">English</span>
												<span class="mx-20">6</span>
												<span class="mx-20 pull-right"><i class="close icon sb-color-red-100"></i></span>
												<hr>
												<span class="mx-20 sb-color-gray-400 font-weight-bold">Geography</span>
												<span class="mx-20">English</span>
												<span class="mx-20">6</span>
												<span class="mx-20 pull-right"><i class="close icon sb-color-red-100"></i></span>
												<hr>
												<span class="mx-20 sb-color-gray-400 font-weight-bold">Geography</span>
												<span class="mx-20">English</span>
												<span class="mx-20">6</span>
												<span class="mx-20 pull-right"><i class="close icon sb-color-red-100"></i></span>
												<hr>
												<span class="mx-20 sb-color-gray-400 font-weight-bold">Geography</span>
												<span class="mx-20">English</span>
												<span class="mx-20">6</span>
												<span class="mx-20 pull-right"><i class="close icon sb-color-red-100"></i></span>
												<hr>
											</div>
										<button class="sb-btn sb-btn-normal w-100 sb-btn-primary bradius-0">
											Create Program
										</button>
									</div>
						</div>
					</div>
					<div class="sb-table-responsive">
							<div class="d-flex  flex-jc-space-between">
									<div class="flex-70 pr-10">
						<table class="sb-table sb-table-striped sb-table-hover sb-table-sortable" *ngIf="showTextBookSelector">
					<thead class="sb-table-header sb-table-thead-gray">
						<tr>
							<th class="w-5">
								<div class="sb-checkbox sb-checkbox-primary">
									<input type="checkbox" id="checkall" (change)="isSelected = !isSelected" name="checkall">
									<label for="checkall"></label>
								</div>
							</th>
							<th class="sb-sort-icon">Title</th>
							<th class="sb-sort-icon w-20">Medium</th>
							<th class="sb-sort-icon w-20">Class</th>
							<th class="sb-sort-icon w-20">No. of Chapters</th>
							<th class="text-right w-20"><button type="button" class="sb-btn sb-btn-normal sb-btn-primary">Add Selected</button></th>
						</tr>
						</thead>
						<tbody class="sb-table-body">
							<tr *ngFor="let data of collections" >
							<td class="collapsing">
								<div class="sb-checkbox sb-checkbox-primary">
									<input type="checkbox" id="checkitem" (change)="onCollectionCheck(data.identifier, $event.target.checked)" [checked]="isSelected" name="checkitem">
									<label for="checkitem"></label>
								</div>
							</td>
							<td> 
								<div class="sb__ellipsis sb__ellipsis--three sb-color-primary font-weight-bold">
									{{data.name}}
								</div>
							</td>
							<td> 
								<div class="sb__ellipsis">
									{{data.gradeLevel}}
								</div>
							</td>
							<td> 
								<div class="sb__ellipsis">
									{{data.medium}}
								</div>
							</td>
							<td>20</td>
							<td>
								<div class="sb__ellipsis">
									{{data.subject}}
								</div>
								</td>
							</tr>
						</tbody>
						</table> 
						</div>
						<div class="flex-30 bt-l bt-r">
								<div class="sb-bg-white b-1-100 br-4 o-y-auto fs-0-92">
											<h5 class="p-10">
												<span class="p-10 font-weight-bold">4 textbooks added</span>
												<hr>
											</h5>
											<div class="o-y-auto max-height">
												<span class="mx-20 sb-color-gray-400 font-weight-bold">Geography</span>
												<span class="mx-20">English</span>
												<span class="mx-20">6</span>
												<span class="mx-20 pull-right"><i class="close outline icon sb-color-red-100"></i></span>
												<hr>
												<span class="mx-20 sb-color-gray-400 font-weight-bold">Geography</span>
												<span class="mx-20">English</span>
												<span class="mx-20">6</span>
												<span class="mx-20 pull-right"><i class="close icon sb-color-red-100"></i></span>
												<hr>
												<span class="mx-20 sb-color-gray-400 font-weight-bold">Geography</span>
												<span class="mx-20">English</span>
												<span class="mx-20">6</span>
												<span class="mx-20 pull-right"><i class="close icon sb-color-red-100"></i></span>
												<hr>
												<span class="mx-20 sb-color-gray-400 font-weight-bold">Geography</span>
												<span class="mx-20">English</span>
												<span class="mx-20">6</span>
												<span class="mx-20 pull-right"><i class="close icon sb-color-red-100"></i></span>
												<hr>
												<span class="mx-20 sb-color-gray-400 font-weight-bold">Geography</span>
												<span class="mx-20">English</span>
												<span class="mx-20">6</span>
												<span class="mx-20 pull-right"><i class="close icon sb-color-red-100"></i></span>
												<hr>
												<span class="mx-20 sb-color-gray-400 font-weight-bold">Geography</span>
												<span class="mx-20">English</span>
												<span class="mx-20">6</span>
												<span class="mx-20 pull-right"><i class="close icon sb-color-red-100"></i></span>
												<hr>
											</div>
										<button class="sb-btn sb-btn-normal w-100 sb-btn-primary bradius-0">
											Create Program
										</button>
									</div>
						</div>
					
						</div>
					</div>
				</div>
			</sui-tabset>
		</div>
		<div class="text-align-right">
			<button *ngIf="!showTextBookSelector" class="sb-btn sb-btn-normal sb-btn-primary" (click)="saveProgram()">Next</button>
			<button *ngIf="showTextBookSelector" class="sb-btn sb-btn-normal sb-btn-default mr-10" (click)="navigateTo(1)">Prev</button>
			<button *ngIf="showTextBookSelector" class="sb-btn sb-btn-normal sb-btn-primary" (click)="updateProgramCollection()">Save & Close</button>
		</div>
	</div>
</div>