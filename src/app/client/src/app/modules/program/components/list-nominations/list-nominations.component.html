<div class="sb-bg-color-primary-0 py-24">
  <div class="ui container">
    <div class="d-flex flex-ai-center flex-jc-space-between">
      <div class="flex-basis-1 pr-16">
        <h4 class="sb-pageSection-title six wide column">
          {{ programDetails?.name }}
          <i class="info circle link icon hide hidden" suiPopup [popupTemplate]="popupTemplate" popupDelay="1000"></i>
          <ng-template #popupTemplate>
            <div class="content">
              <div class="textbook-details ml-8">
                <div class="header"><strong>{{ resourceService.frmelmnts.lbl.mediums }}</strong></div>
                <div class="content">
                  <label class="d-block fsmall font-weight-normal mb-0"
                    >{{ mediums }}</label>
                </div>
                <hr />
                <div class="header"><strong>{{ resourceService.frmelmnts.lbl.grades }}</strong></div>
                <div class="content">
                  <label class="d-block fsmall font-weight-normal mb-0"
                    >{{ grades }}</label>
                </div>
                <hr />
                <div class="header">
                  <strong>{{ resourceService.frmelmnts.lbl.expressionOfInterestDate }}</strong>
                </div>
                <div class="content">
                  <label class="d-block fsmall font-weight-normal mb-0">
                    {{ programDetails?.nomination_enddate |  date:'LLLL d, yyyy'  }}
                  </label>
                </div>
                <hr />
                <div class="header">
                  <strong>{{ resourceService.frmelmnts.lbl.shortlistingOfContributorDate }}</strong>
                </div>
                <div class="content">
                  <label class="d-block fsmall font-weight-normal mb-0">
                    {{ programDetails?.shortlisting_enddate |  date:'LLLL d, yyyy'  }}
                  </label>
                </div>
                <hr />
                <div class="header">
                  <strong>{{ resourceService.frmelmnts.lbl.contentSubmissionDate }}</strong>
                </div>
                <div class="content">
                  <label class="d-block fsmall font-weight-normal mb-0">
                    {{ programDetails?.content_submission_enddate |  date:'LLLL d, yyyy'  }}
                  </label>
                </div>
                <hr />
                <div class="header"><strong>{{ resourceService.frmelmnts.lbl.programEndDate }}</strong></div>
                <div class="content">
                  <label class="d-block fsmall font-weight-normal mb-0">
                    {{ programDetails?.enddate |  date:'LLLL d, yyyy'  }}
                  </label>
                </div>
              </div>
            </div>
          </ng-template>
        </h4>
        <div class="d-flex flex-jc-space-between flex-ai-center fnormal mt-8">
          <div class="d-flex flex-dc flex-25 pr-16">
              <div class="sb__ellipsis" suiPopup popupHeader="{{ resourceService.frmelmnts.lbl.grades }}"  popupDelay="1000" popupText="{{ grades }}">{{ grades }}</div>
              <div class="divider my-4"></div>
              <div class="sb__ellipsis" suiPopup popupHeader="{{ resourceService.frmelmnts.lbl.mediums }}"  popupDelay="1000" popupText="{{ mediums }}">{{ mediums }}</div>
          </div>
          <div class="d-flex flex-ai-center flex-jc-space-between flex-75 ">
            <dl class="sb-meta-data mb-0 pr-8 w-25">
              <dt class="sb__ellipsis" popupDelay="1000"  suiPopup popupHeader="{{ resourceService.frmelmnts.lbl.expressionOfInterestDate }}" popupText="{{ programDetails?.nomination_enddate |  date:'LLLL d, yyyy'  }}">{{ resourceService.frmelmnts.lbl.expressionOfInterestDate }}</dt>
              <dd> {{ programDetails?.nomination_enddate |  date:'LLLL d, yyyy'  }}</dd>
            </dl>
            <dl class="sb-meta-data mb-0 pr-8 w-25">
              <dt class="sb__ellipsis" popupDelay="1000"  suiPopup popupHeader="{{ resourceService.frmelmnts.lbl.shortlistingOfContributorDate }}" popupText="{{ programDetails?.shortlisting_enddate |  date:'LLLL d, yyyy'  }}">{{ resourceService.frmelmnts.lbl.shortlistingOfContributorDate }}</dt>
              <dd> {{ programDetails?.shortlisting_enddate |  date:'LLLL d, yyyy'  }}</dd>
            </dl>
            <dl class="sb-meta-data mb-0 pr-8 w-25">
              <dt class="sb__ellipsis" popupDelay="1000"  suiPopup popupHeader="{{ resourceService.frmelmnts.lbl.contentSubmissionDate }}" popupText="{{ programDetails?.content_submission_enddate |  date:'LLLL d, yyyy'  }}">{{ resourceService.frmelmnts.lbl.contentSubmissionDate }}</dt>
              <dd> {{ programDetails?.content_submission_enddate |  date:'LLLL d, yyyy'  }}</dd>
            </dl>
            <dl class="sb-meta-data mb-0 pr-8 w-25">
              <dt class="sb__ellipsis" popupDelay="1000"  suiPopup popupHeader="{{ resourceService.frmelmnts.lbl.programEndDate }}" popupText="{{ programDetails?.enddate |  date:'LLLL d, yyyy'  }}">{{ resourceService.frmelmnts.lbl.programEndDate }}</dt>
              <dd>{{ programDetails?.enddate |  date:'LLLL d, yyyy'  }}</dd>
            </dl>
          </div>
        </div>
      </div>
      <div class="sb-meta-data-container sb-meta-data-column">
        <label class="width-100">{{ resourceService.frmelmnts.lbl.nominations }} </label>
        <div class="d-flex">
          <dl class="sb-meta-data">
            <dt>15</dt>
            <dd>Total</dd>
          </dl>
          <dl class="sb-meta-data">
            <dt>5</dt>
            <dd>Rejected</dd>
          </dl>
          <dl class="sb-meta-data">
            <dt>5</dt>
            <dd>Pending</dd>
          </dl>
          <dl class="sb-meta-data">
            <dt>5</dt>
            <dd>Approved</dd>
          </dl>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="sb-bg-color-white pb-64 dynamicHeight">
    <div class="ui container sb-pageSection">
        <div class="sb-pageSection-header pt-16">
          <h4 class="sb-pageSection-title"> {{ resourceService.frmelmnts.lbl.listofNominations }}
            <span class="sb-pagSection-count sb-label sb-label-x sb-label-warning ml-8 px-8">{{ nominationsCount }}</span>
          </h4>
        </div>
        <div class="sb-pageSection-content mt-12" *ngIf="nominations.length > 0">
          <div>
            <table
              class="sb-table sb-table-striped sb-table-hover sb-table-sortable sb-table-fixed"
            >
              <thead class="sb-table-header sb-table-thead-gray">
                <tr>
                  <th class="sb-sort-icon">{{ resourceService.frmelmnts.lbl.contributorName }}</th>
                  <th class="sb-sort-icon">{{ resourceService.frmelmnts.lbl.type }}</th>
                  <th class="sb-sort-icon">{{ resourceService.frmelmnts.lbl.textbooks }}</th>
                  <th>
                    <span class="ui dropdown sb-table-dropdown d-inline-flex" suiDropdown>
                      <div class="text">{{ resourceService.frmelmnts.lbl.status }}</div>
                      <i class="filter icon"></i>
                      <div class="menu" suiDropdownMenu>
                        <div class="item" selected>resourceService.frmelmnts.lbl.allStatus</div>
                        <div class="item">{{ resourceService.frmelmnts.lbl.pendig }}</div>
                        <div class="item">{{ resourceService.frmelmnts.lbl.approved }}</div>
                        <div class="item">{{ resourceService.frmelmnts.lbl.rejected }}</div>
                      </div>
                    </span>
                  </th>
                  <th class="text-center">{{ resourceService.frmelmnts.lbl.actions }}</th>
                </tr>
              </thead>
              <tbody class="sb-table-body">
                <tr *ngFor="let nomination of nominations">
                  <td>
                    <div class="sb__ellipsis sb__ellipsis--three sb-color-primary font-weight-bold" (click)="showNomineeProfile = true; getNomineeProfile(nomination)">
                      {{ nomination?.name }}
                    </div>
                  </td>
                  <td>
                    <div>{{ nomination?.type }}</div>
                  </td>
                  <td>
                    <div suiPopup popupDelay="1000" popupHeader="{{ resourceService.frmelmnts.lbl.textbooks }}" popupText="{{ nomination?.textbooks }}">
                      {{ getNominatedTextbooksCount(nomination) }}
                    </div>
                  </td>
                  <td>
                    <span class="sb-label sb-label-table sb-label-primary-100">
                      {{ nomination?.nominationData?.status }}
                    </span>
                  </td>
                  <td class="text-right">
                    <button class="sb-btn sb-btn-xs sb-btn-outline-primary m-5"
                      *ngIf="nomination?.nominationData?.status === 'Pending'"
                      (click)="viewNominationDetails(nomination)">{{ resourceService.frmelmnts.lbl.viewDetails }}</button>
                    <button class="sb-btn sb-btn-xs sb-btn-outline-primary m-5"
                      *ngIf="nomination?.nominationData?.status === 'Accepted'"
                      [routerLink]="'/sourcing/contributor/' + nomination?.nominationData?.program_id">{{ resourceService.frmelmnts.lbl.viewContribution }}</button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
    </div>
    <div class="sb-pageSection-content mt-12" *ngIf="nominations.length === 0">
      <app-no-result [data]="{ messageText: 'resourceService.messages.stmsg.m0146'}"></app-no-result>
    </div>
    </div>
</div>

<sui-modal
  *ngIf="showNomineeProfile"
  [mustScroll]="true"
  [isClosable]="true"
  [transitionDuration]="0"
  [size]="'normal'"
  class="sb-modal"
  appBodyScroll
  (dismissed)="showNomineeProfile = false"
  #modal
>
  <div class="sb-modal-header"> {{ resourceService.frmelmnts.lbl.contributorProfileDetails }}</div>
  <div class="sb-modal-content o-y-visible pb-8">
    <div class="ui container">
      <div class="mx-48 text-center">
        <div class="sb-profile-page__avatar">
          <img src="assets/images/guest.svg" alt="guest" class="w-100" />
        </div>
        <div class="fs-2-5 font-weight-bold mb-24">
          {{ selectedNomineeProfile.firstName + ' ' + selectedNomineeProfile.lastName }}
        </div>
      </div>
      <div class="mx-48 relative text-center">
        <div class="mb-16 d-flex flex-jc-center sb-profile-page__category">
          <span class="fmedium white-space-nowrap"
            >{{ resourceService.frmelmnts.lbl.email }} :</span
          >
          <span class="fmedium font-weight-bold pl-4">{{ selectedNomineeProfile.email }}</span>
        </div>
        <div class="mb-16 d-flex flex-jc-center sb-profile-page__category">
          <span class="fmedium white-space-nowrap"
            >{{ resourceService.frmelmnts.lbl.mobileNo }} :</span
          >
          <span class="fmedium font-weight-bold pl-4">{{ selectedNomineeProfile.phone }}</span>
        </div>
        <div class="mb-16 d-flex flex-jc-center sb-profile-page__category">
          <span class="fmedium white-space-nowrap"
            >{{ resourceService.frmelmnts.lbl.profile.Board }} :</span
          >
          <span class="fmedium font-weight-bold pl-4">{{ selectedNomineeProfile.framework.board.join(", ") }}</span>
        </div>
        <div
          class="mb-16 d-flex flex-jc-center sb-profile-page__m-responsive-flex-dc"
        >
          <span class="fmedium white-space-nowrap"
            >{{ resourceService.frmelmnts.lbl.profile.Medium }} :</span
          >
          <span class="fmedium font-weight-bold pl-4"> {{ selectedNomineeProfile.framework.medium.join(", ") }}</span>
        </div>
        <div
          class="mb-16 d-flex flex-jc-center sb-profile-page__m-responsive-flex-dc"
        >
          <span class="fmedium white-space-nowrap"
            >{{ resourceService.frmelmnts.lbl.profile.Subjects }} :</span
          >
          <span class="fmedium font-weight-bold pl-4"> {{ selectedNomineeProfile.framework.subject.join(", ") }}</span>
        </div>
        <div
          class="mb-16 d-flex flex-jc-center sb-profile-page__m-responsive-flex-dc"
        >
          <span class="fmedium white-space-nowrap"
            >{{ resourceService.frmelmnts.lbl.profile.Classes }} :</span
          >
          <span class="fmedium font-weight-bold pl-4"> {{ selectedNomineeProfile.framework.gradeLevel.join(", ") }}</span>
        </div>
      </div>
    </div>
  </div>
</sui-modal>
